(()=>{"use strict";var e,t,n,o,r,c,a,l=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?t.classList.remove(n):t.classList.add(n)},i=document.querySelectorAll(".popup"),s=document.querySelector(".image-popup"),u=document.querySelector(".profile-popup"),d=document.querySelector(".card-popup"),p=document.querySelector(".profile__editbtn"),m=(document.querySelectorAll(".form__savebtn"),document.querySelectorAll(".popup__closebtn")),f=document.querySelector(".profile__addbtn"),_=document.querySelector(".edit-profile"),v=document.querySelector(".edit-place"),y=document.querySelector(".form__input_link"),S=document.querySelector(".form__input_name"),q=document.querySelector(".form__input_job"),k=document.querySelector(".form__input_place"),L=document.querySelector(".profile__title"),g=document.querySelector(".profile__subtitle"),E=document.querySelector(".places"),b=document.querySelector(".places-new").content,h=document.querySelector(".image-popup__photolink"),C=document.querySelector(".image-popup__caption");function x(e){e.classList.add("popup_opened")}function j(e){e.classList.remove("popup_opened")}function A(e,t){var n=b.cloneNode(!0);n.querySelector(".places__title").textContent=e,n.querySelector(".places__image").src=t;var o=n.querySelector(".places__image");o.alt=e,n.querySelector(".places__likebtn").addEventListener("click",(function(e){e.target.classList.toggle("places__likebtn_active")})),n.querySelector(".places__deletebtn").addEventListener("click",(function(e){e.target.closest(".places__container").remove()}));var r=n.querySelector(".places__deletebtn");return r.classList.add("places__deletebtn_visible"),r.addEventListener("click",(function(t){return t.target.closest(".places__container").remove(),getRequest.then((function(t){t.forEach((function(t){e===t.name&&deleteCard(t._id)}))})).catch((function(e){console.log(e)}))})),o.addEventListener("click",(function(){x(s),h.src=this.src,h.alt=e,C.textContent=e})),n}t=(e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__savebtn",inactiveButtonClass:"form__savebtn_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error"}).formSelector,n=e.inputSelector,o=e.submitButtonSelector,r=e.inactiveButtonClass,c=e.inputErrorClass,a=e.errorClass,Array.from(document.querySelectorAll(t)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t,n,o,r,c){var a=Array.from(e.querySelectorAll(t)),i=e.querySelector(n);l(a,i,o),a.forEach((function(t){t.addEventListener("input",(function(){!function(e,t,n,o){t.validity.valid?function(e,t,n,o){var r=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(void 0),r.classList.remove(void 0),r.textContent=""}(e,t):function(e,t,n,o,r){var c=e.querySelector(".".concat(t.id,"-error"));t.classList.add(o),c.classList.add(r),c.textContent=n}(e,t,t.validationMessage,n,o)}(e,t,r,c),l(a,i,o)}))}))}(e,n,o,r,c,a)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=A(e.name,e.link);E.append(t)})),v.addEventListener("submit",(function(e){e.preventDefault(),E.prepend(A(k.value,y.value)),j(d),k.value="",y.value=""})),_.addEventListener("submit",(function(e){e.preventDefault(),L.textContent=S.value,g.textContent=q.value,j(u)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&i.forEach((function(e){e.classList.contains("popup_opened")&&j(e)}))})),m.forEach((function(e){e.addEventListener("click",(function(e){j(e.target.closest(".popup"))}))})),i.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.contains("popup")&&j(e.target.closest(".popup"))}))})),p.addEventListener("click",(function(){S.value=L.textContent,q.value=g.textContent,x(u)})),f.addEventListener("click",(function(){return x(d)}))})();