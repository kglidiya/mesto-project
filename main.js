(()=>{"use strict";var e,t,n,r,o,c,a,l=function(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove(n),t.disabled=!1):(t.classList.add(n),t.disabled=!0)},s=document.querySelectorAll(".popup"),i=document.querySelector(".image-popup"),u=document.querySelector(".profile-popup"),d=document.querySelector(".card-popup"),p=document.querySelector(".profile__editbtn"),m=document.querySelectorAll(".form__savebtn"),_=document.querySelectorAll(".popup__closebtn"),f=document.querySelector(".profile__addbtn"),v=document.querySelector(".edit-profile"),y=document.querySelector(".edit-place"),S=document.querySelector(".form__input_link"),q=document.querySelector(".form__input_name"),k=document.querySelector(".form__input_job"),b=document.querySelector(".form__input_place"),L=document.querySelector(".profile__title"),E=document.querySelector(".profile__subtitle"),g=document.querySelector(".places"),h=document.querySelector(".places-new").content,x=document.querySelector(".image-popup__photolink"),C=document.querySelector(".image-popup__caption");function j(e){"Escape"===e.key&&B(document.querySelector(".popup_opened"))}function A(e){e.classList.add("popup_opened"),document.addEventListener("keydown",j)}function B(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",j)}function w(e,t){var n=h.cloneNode(!0);n.querySelector(".places__title").textContent=e,n.querySelector(".places__image").src=t;var r=n.querySelector(".places__image");r.alt=e,n.querySelector(".places__likebtn").addEventListener("click",(function(e){e.target.classList.toggle("places__likebtn_active")})),n.querySelector(".places__deletebtn").addEventListener("click",(function(e){e.target.closest(".places__container").remove()}));var o=n.querySelector(".places__deletebtn");return o.classList.add("places__deletebtn_visible"),o.addEventListener("click",(function(e){e.target.closest(".places__container").remove()})),r.addEventListener("click",(function(){A(i),x.src=this.src,x.alt=e,C.textContent=e})),n}t=(e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__savebtn",inactiveButtonClass:"form__savebtn_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error"}).formSelector,n=e.inputSelector,r=e.submitButtonSelector,o=e.inactiveButtonClass,c=e.inputErrorClass,a=e.errorClass,Array.from(document.querySelectorAll(t)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t,n,r,o,c){var a=Array.from(e.querySelectorAll(t)),s=e.querySelector(n);l(a,s,r),a.forEach((function(t){t.addEventListener("input",(function(){!function(e,t,n,r){t.validity.valid?function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.remove(n),o.classList.remove(r),o.textContent=""}(e,t,n,r):function(e,t,n,r,o){var c=e.querySelector(".".concat(t.id,"-error"));t.classList.add(r),c.classList.add(o),c.textContent=n}(e,t,t.validationMessage,n,r)}(e,t,o,c),l(a,s,r)}))}))}(e,n,r,o,c,a)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=w(e.name,e.link);g.append(t)})),y.addEventListener("submit",(function(e){e.preventDefault(),m.forEach((function(e){e.disabled=!0,e.classList.add("form__savebtn_inactive")})),g.prepend(w(b.value,S.value)),B(d),e.target.reset()})),v.addEventListener("submit",(function(e){e.preventDefault(),L.textContent=q.value,E.textContent=k.value,B(u)})),_.forEach((function(e){e.addEventListener("click",(function(e){B(e.target.closest(".popup"))}))})),s.forEach((function(e){e.addEventListener("click",(function(e){e.target.classList.contains("popup")&&B(e.target.closest(".popup"))}))})),p.addEventListener("click",(function(){q.value=L.textContent,k.value=E.textContent,A(u)})),f.addEventListener("click",(function(){return A(d)}))})();